  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (132.6ms)[0m  [1m[35mCREATE TABLE "logs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "phone" varchar, "currency" varchar, "loan_duration_months" integer, "loan_purpose" varchar, "loan_amount" float, "verdict" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "status" integer DEFAULT 0)[0m
  [1m[35m (133.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (89.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180116030238)[0m
  [1m[35m (99.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180116022941);

[0m
  [1m[35m (115.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2018-01-16 21:22:40.232304"], ["updated_at", "2018-01-16 21:22:40.232304"]]
  [1m[35m (87.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 21:32:33.535490', '2018-01-16 21:32:33.535490', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 21:32:33.535490', '2018-01-16 21:32:33.535490', 298486374)[0m
  [1m[35m (219.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
ConstructTreeWorkerTest: test_#perform_returns_true_from_Analyzer.new.sync
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 21:37:55.822044', '2018-01-16 21:37:55.822044', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 21:37:55.822044', '2018-01-16 21:37:55.822044', 298486374)[0m
  [1m[35m (133.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
ConstructTreeWorkerTest: test_#perform_returns_true_from_Analyzer.new.sync
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 21:38:17.028597', '2018-01-16 21:38:17.028597', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 21:38:17.028597', '2018-01-16 21:38:17.028597', 298486374)[0m
  [1m[35m (81.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
ConstructTreeWorkerTest: test_#perform_returns_true_from_Analyzer.new.sync
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 21:44:50.996810', '2018-01-16 21:44:50.996810', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 21:44:50.996810', '2018-01-16 21:44:50.996810', 298486374)[0m
  [1m[35m (78.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
ConstructTreeWorkerTest: test_#perform_executes_when_the_tree_does_not_exist
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_#perform_executes_when_the_tree_exists
--------------------------------------------------------------------
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:31:56.425200', '2018-01-16 22:31:56.425200', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:31:56.425200', '2018-01-16 22:31:56.425200', 298486374)[0m
  [1m[35m (170.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
ConstructTreeWorkerTest: test_#perform_executes_when_the_tree_does_not_exist
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_#perform_executes_when_the_tree_exists
--------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:32:56.959974', '2018-01-16 22:32:56.959974', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:32:56.959974', '2018-01-16 22:32:56.959974', 298486374)[0m
  [1m[35m (79.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
ConstructTreeWorkerTest: test_#perform_executes_when_the_tree_does_not_exist
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_#perform_executes_when_the_tree_exists
--------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:36:48.063268', '2018-01-16 22:36:48.063268', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:36:48.063268', '2018-01-16 22:36:48.063268', 298486374)[0m
  [1m[35m (215.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:37:20.044971', '2018-01-16 22:37:20.044971', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:37:20.044971', '2018-01-16 22:37:20.044971', 298486374)[0m
  [1m[35m (78.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:40:22.181382', '2018-01-16 22:40:22.181382', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:40:22.181382', '2018-01-16 22:40:22.181382', 298486374)[0m
  [1m[35m (97.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>75%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:41:21.120539', '2018-01-16 22:41:21.120539', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:41:21.120539', '2018-01-16 22:41:21.120539', 298486374)[0m
  [1m[35m (75.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>75%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:42:37.283488', '2018-01-16 22:42:37.283488', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:42:37.283488', '2018-01-16 22:42:37.283488', 298486374)[0m
  [1m[35m (84.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>75%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:43:13.189118', '2018-01-16 22:43:13.189118', 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', NULL, 'MyString', 1.5, NULL, '2018-01-16 22:43:13.189118', '2018-01-16 22:43:13.189118', 298486374)[0m
  [1m[35m (87.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>70%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 22:54:01.886216', '2018-01-16 22:54:01.886216', 201799169)[0m
  [1m[35m (89.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>70%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.6ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 22:54:39.031726', '2018-01-16 22:54:39.031726', 201799169)[0m
  [1m[35m (86.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>70%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 22:56:27.419934', '2018-01-16 22:56:27.419934', 201799169)[0m
  [1m[35m (138.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>70%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 22:57:37.049054', '2018-01-16 22:57:37.049054', 201799169)[0m
  [1m[35m (92.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>70%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 22:58:31.962292', '2018-01-16 22:58:31.962292', 201799169)[0m
  [1m[35m (79.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>68%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 23:05:15.908797', '2018-01-16 23:05:15.908797', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-16 23:05:15.908797', '2018-01-16 23:05:15.908797', 959946084)[0m
  [1m[35m (75.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>68%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_array
-------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 23:06:10.099249', '2018-01-16 23:06:10.099249', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-16 23:06:10.099249', '2018-01-16 23:06:10.099249', 959946084)[0m
  [1m[35m (93.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>68%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 23:07:52.465212', '2018-01-16 23:07:52.465212', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-16 23:07:52.465212', '2018-01-16 23:07:52.465212', 959946084)[0m
  [1m[35m (101.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 23:42:35.743112', '2018-01-16 23:42:35.743112', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-16 23:42:35.743112', '2018-01-16 23:42:35.743112', 959946084)[0m
  [1m[35m (85.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
CurrencyTest: test_currency_test
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 23:44:04.435044', '2018-01-16 23:44:04.435044', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-16 23:44:04.435044', '2018-01-16 23:44:04.435044', 959946084)[0m
  [1m[35m (163.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
CurrencyTest: test_currency_test
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 23:47:08.348229', '2018-01-16 23:47:08.348229', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-16 23:47:08.348229', '2018-01-16 23:47:08.348229', 959946084)[0m
  [1m[35m (78.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
CurrencyTest: test_currency_test
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 23:47:49.531121', '2018-01-16 23:47:49.531121', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-16 23:47:49.531121', '2018-01-16 23:47:49.531121', 959946084)[0m
  [1m[35m (86.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
CurrencyTest: test_currency_test
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.9ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-16 23:48:58.526512', '2018-01-16 23:48:58.526512', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-16 23:48:58.526512', '2018-01-16 23:48:58.526512', 959946084)[0m
  [1m[35m (77.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
CurrencyTest: test_currency_test
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 00:22:37.297275', '2018-01-17 00:22:37.297275', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 00:22:37.297275', '2018-01-17 00:22:37.297275', 959946084)[0m
  [1m[35m (63.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
CurrencyTest: test_currency_test
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 00:30:35.042218', '2018-01-17 00:30:35.042218', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 00:30:35.042218', '2018-01-17 00:30:35.042218', 959946084)[0m
  [1m[35m (55.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LogTest: test_invalid_without_email
-----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 00:45:14.807915', '2018-01-17 00:45:14.807915', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 00:45:14.807915', '2018-01-17 00:45:14.807915', 959946084)[0m
  [1m[35m (56.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:05:00.424996', '2018-01-17 01:05:00.424996', 201799169)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:05:00.424996', '2018-01-17 01:05:00.424996', 959946084)[0m
  [1m[35m (58.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:05:12.736556', '2018-01-17 01:05:12.736556', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:05:12.736556', '2018-01-17 01:05:12.736556', 959946084)[0m
  [1m[35m (79.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:10:32.138045', '2018-01-17 01:10:32.138045', 201799169)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:10:32.138045', '2018-01-17 01:10:32.138045', 959946084)[0m
  [1m[35m (55.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:10:46.919633', '2018-01-17 01:10:46.919633', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:10:46.919633', '2018-01-17 01:10:46.919633', 959946084)[0m
  [1m[35m (52.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:12:09.407998', '2018-01-17 01:12:09.407998', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:12:09.407998', '2018-01-17 01:12:09.407998', 959946084)[0m
  [1m[35m (56.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:16:28.134986', '2018-01-17 01:16:28.134986', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:16:28.134986', '2018-01-17 01:16:28.134986', 959946084)[0m
  [1m[35m (77.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.5ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:18:55.481586', '2018-01-17 01:18:55.481586', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:18:55.481586', '2018-01-17 01:18:55.481586', 959946084)[0m
  [1m[35m (59.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
ProfileTest: test_#convert_to_int_correctly_foreign_worker
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:19:58.982013', '2018-01-17 01:19:58.982013', 201799169)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:19:58.982013', '2018-01-17 01:19:58.982013', 959946084)[0m
  [1m[35m (78.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
ProfileTest: test_#convert_to_int_correctly_foreign_worker
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:21:21.143814', '2018-01-17 01:21:21.143814', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:21:21.143814', '2018-01-17 01:21:21.143814', 959946084)[0m
  [1m[35m (68.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
ProfileTest: test_#convert_to_int_correctly_foreign_worker
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.6ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 01:26:58.917102', '2018-01-17 01:26:58.917102', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 01:26:58.917102', '2018-01-17 01:26:58.917102', 959946084)[0m
  [1m[35m (81.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 04:14:37.794831', '2018-01-17 04:14:37.794831', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 04:14:37.794831', '2018-01-17 04:14:37.794831', 959946084)[0m
  [1m[35m (56.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 15:49:44.370630', '2018-01-17 15:49:44.370630', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 15:49:44.370630', '2018-01-17 15:49:44.370630', 959946084)[0m
  [1m[35m (335.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 15:51:29.945949', '2018-01-17 15:51:29.945949', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 15:51:29.945949', '2018-01-17 15:51:29.945949', 959946084)[0m
  [1m[35m (71.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 15:52:06.969095', '2018-01-17 15:52:06.969095', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 15:52:06.969095', '2018-01-17 15:52:06.969095', 959946084)[0m
  [1m[35m (56.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 15:53:40.035429', '2018-01-17 15:53:40.035429', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 15:53:40.035429', '2018-01-17 15:53:40.035429', 959946084)[0m
  [1m[35m (80.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 15:54:28.126304', '2018-01-17 15:54:28.126304', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 15:54:28.126304', '2018-01-17 15:54:28.126304', 959946084)[0m
  [1m[35m (67.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 10:54:28 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.7ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.4ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (37.6ms)
  Rendered profiles/new.html.erb within layouts/application (48.6ms)
Completed 200 OK in 8725ms (Views: 8717.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 15:55:43.483977', '2018-01-17 15:55:43.483977', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 15:55:43.483977', '2018-01-17 15:55:43.483977', 959946084)[0m
  [1m[35m (94.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 10:56:08 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.3ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (15.8ms)
  Rendered profiles/new.html.erb within layouts/application (18.2ms)
Completed 200 OK in 200ms (Views: 193.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 15:56:24.928859', '2018-01-17 15:56:24.928859', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 15:56:24.928859', '2018-01-17 15:56:24.928859', 959946084)[0m
  [1m[35m (53.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 10:56:25 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (16.7ms)
  Rendered profiles/new.html.erb within layouts/application (19.3ms)
Completed 200 OK in 172ms (Views: 164.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:05:50.642063', '2018-01-17 16:05:50.642063', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:05:50.642063', '2018-01-17 16:05:50.642063', 959946084)[0m
  [1m[35m (70.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:05:50 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (16.1ms)
  Rendered profiles/new.html.erb within layouts/application (18.9ms)
Completed 200 OK in 166ms (Views: 159.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:05:51 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 14ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print" for 127.0.0.1 at 2018-01-17 11:05:51 -0500
Processing by ProfilesController#print as HTML
  [1m[36mLog Load (0.0ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 0], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (18.0ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:07:14.730016', '2018-01-17 16:07:14.730016', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:07:14.730016', '2018-01-17 16:07:14.730016', 959946084)[0m
  [1m[35m (96.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:07:40 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:07:40 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (16.2ms)
  Rendered profiles/new.html.erb within layouts/application (18.7ms)
Completed 200 OK in 194ms (Views: 192.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:07:40 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (27.1ms)
Completed 200 OK in 29ms (Views: 27.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:08:18.912418', '2018-01-17 16:08:18.912418', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:08:18.912418', '2018-01-17 16:08:18.912418', 959946084)[0m
  [1m[35m (84.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:08:19 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.4ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.3ms)
  Rendered profiles/_form.html.erb (17.5ms)
  Rendered profiles/new.html.erb within layouts/application (20.2ms)
Completed 200 OK in 174ms (Views: 166.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:08:19 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:08:19 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.5ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:24:49.618523', '2018-01-17 16:24:49.618523', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:24:49.618523', '2018-01-17 16:24:49.618523', 959946084)[0m
  [1m[35m (84.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:24:49 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 10ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:24:49 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.5ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (24.3ms)
  Rendered profiles/new.html.erb within layouts/application (27.5ms)
Completed 200 OK in 6717ms (Views: 6710.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:24:56 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.4ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:25:12.596585', '2018-01-17 16:25:12.596585', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:25:12.596585', '2018-01-17 16:25:12.596585', 959946084)[0m
  [1m[35m (98.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:25:39 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:25:39 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.3ms)
  Rendered profiles/_form.html.erb (18.0ms)
  Rendered profiles/new.html.erb within layouts/application (20.7ms)
Completed 200 OK in 176ms (Views: 175.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=201799169&confidence=1" for 127.0.0.1 at 2018-01-17 11:25:39 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"201799169", "confidence"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:25:39 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.9ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:31:57.467569', '2018-01-17 16:31:57.467569', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:31:57.467569', '2018-01-17 16:31:57.467569', 959946084)[0m
  [1m[35m (87.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:31:57 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.5ms)
Completed 200 OK in 16ms (Views: 7.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:31:57 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.6ms)
Completed 200 OK in 241ms (Views: 239.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:31:57 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:31:57 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.8ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.3ms)
  Rendered profiles/_form.html.erb (26.3ms)
  Rendered profiles/new.html.erb within layouts/application (29.6ms)
Completed 200 OK in 40ms (Views: 32.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:33:53.166585', '2018-01-17 16:33:53.166585', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:33:53.166585', '2018-01-17 16:33:53.166585', 959946084)[0m
  [1m[35m (70.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:33:53 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:33:53 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (6.0ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:33:53 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.6ms)
Completed 200 OK in 179ms (Views: 177.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:33:53 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (49.1ms)
  Rendered profiles/new.html.erb within layouts/application (51.4ms)
Completed 200 OK in 54ms (Views: 52.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:34:50.712941', '2018-01-17 16:34:50.712941', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:34:50.712941', '2018-01-17 16:34:50.712941', 959946084)[0m
  [1m[35m (86.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:35:14 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (16.2ms)
  Rendered profiles/new.html.erb within layouts/application (18.6ms)
Completed 200 OK in 204ms (Views: 197.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:35:14 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:35:14 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (10.5ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:35:14 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.5ms)
  Rendered profiles/analysis.html.erb within layouts/application (4.0ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:35:52.526338', '2018-01-17 16:35:52.526338', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:35:52.526338', '2018-01-17 16:35:52.526338', 959946084)[0m
  [1m[35m (88.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:36:16 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.3ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (15.2ms)
  Rendered profiles/new.html.erb within layouts/application (17.5ms)
Completed 200 OK in 176ms (Views: 169.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:36:17 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.3ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:36:17 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:36:17 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (23.8ms)
Completed 200 OK in 27ms (Views: 25.4ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.8ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:36:48.842001', '2018-01-17 16:36:48.842001', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:36:48.842001', '2018-01-17 16:36:48.842001', 959946084)[0m
  [1m[35m (85.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:37:12 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:37:12 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.1ms)
Completed 200 OK in 166ms (Views: 165.2ms | ActiveRecord: 0.1ms)
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (1.8ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:37:35 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (10.3ms)
Completed 200 OK in 16ms (Views: 12.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:37:35 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (1.2ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.7ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.6ms)
  Rendered profiles/_form.html.erb (85.9ms)
  Rendered profiles/new.html.erb within layouts/application (92.9ms)
Completed 200 OK in 104ms (Views: 101.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.6ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.5ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:38:00.949743', '2018-01-17 16:38:00.949743', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:38:00.949743', '2018-01-17 16:38:00.949743', 959946084)[0m
  [1m[35m (64.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:38:01 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:38:01 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.5ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.3ms)
  Rendered profiles/_form.html.erb (15.6ms)
  Rendered profiles/new.html.erb within layouts/application (18.7ms)
Completed 200 OK in 198ms (Views: 193.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:38:01 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.7ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:39:15 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (1.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (9.1ms)
Completed 200 OK in 32ms (Views: 19.8ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:39:19.299070', '2018-01-17 16:39:19.299070', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:39:19.299070', '2018-01-17 16:39:19.299070', 959946084)[0m
  [1m[35m (68.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:39:19 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 9ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:39:19 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (8.3ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:39:19 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.5ms)
Completed 200 OK in 173ms (Views: 171.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.5ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:39:50 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (1.0ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.6ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.5ms)
  Rendered profiles/_form.html.erb (83.1ms)
  Rendered profiles/new.html.erb within layouts/application (89.7ms)
Completed 200 OK in 119ms (Views: 98.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:39:55.445748', '2018-01-17 16:39:55.445748', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:39:55.445748', '2018-01-17 16:39:55.445748', 959946084)[0m
  [1m[35m (76.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:39:55 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (15.9ms)
  Rendered profiles/new.html.erb within layouts/application (18.4ms)
Completed 200 OK in 185ms (Views: 174.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:39:55 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.5ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:40:50 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.8ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (30.1ms)
Completed 200 OK in 58ms (Views: 44.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:40:50 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.8ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:43:49.240957', '2018-01-17 16:43:49.240957', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:43:49.240957', '2018-01-17 16:43:49.240957', 959946084)[0m
  [1m[35m (79.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:44:14 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:44:14 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.8ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:44:14 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.5ms)
Completed 200 OK in 164ms (Views: 163.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:47:36 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.8ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.4ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.3ms)
  Rendered profiles/_form.html.erb (29.0ms)
  Rendered profiles/new.html.erb within layouts/application (46.0ms)
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:48:05.141942', '2018-01-17 16:48:05.141942', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:48:05.141942', '2018-01-17 16:48:05.141942', 959946084)[0m
  [1m[35m (70.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:48:29 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (15.3ms)
  Rendered profiles/new.html.erb within layouts/application (17.7ms)
Completed 200 OK in 215ms (Views: 207.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:48:29 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (7.4ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:48:29 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.5ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.6ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:48:29 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 0, '2018-01-17 16:50:06.278665', '2018-01-17 16:50:06.278665', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:50:06.278665', '2018-01-17 16:50:06.278665', 959946084)[0m
  [1m[35m (72.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:50:06 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:50:06 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.0ms)
Completed 200 OK in 190ms (Views: 189.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:50:06 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.3ms)
  Rendered profiles/_form.html.erb (22.1ms)
  Rendered profiles/new.html.erb within layouts/application (24.3ms)
Completed 200 OK in 27ms (Views: 26.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:50:06 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (10.0ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:50:34.301316', '2018-01-17 16:50:34.301316', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:50:34.301316', '2018-01-17 16:50:34.301316', 959946084)[0m
  [1m[35m (79.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:50:57 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:50:57 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.7ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:50:57 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.6ms)
Completed 200 OK in 145ms (Views: 143.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:50:57 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.3ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (18.9ms)
  Rendered profiles/new.html.erb within layouts/application (20.7ms)
Completed 200 OK in 23ms (Views: 22.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:51:50.293503', '2018-01-17 16:51:50.293503', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:51:50.293503', '2018-01-17 16:51:50.293503', 959946084)[0m
  [1m[35m (71.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:52:13 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.2ms)
Completed 200 OK in 16ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:52:13 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.3ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (15.3ms)
  Rendered profiles/new.html.erb within layouts/application (17.3ms)
Completed 200 OK in 178ms (Views: 176.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:52:13 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:52:13 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:52:30.426838', '2018-01-17 16:52:30.426838', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:52:30.426838', '2018-01-17 16:52:30.426838', 959946084)[0m
  [1m[35m (88.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:52:54 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:52:54 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.1ms)
Completed 200 OK in 170ms (Views: 169.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:52:54 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (19.3ms)
  Rendered profiles/new.html.erb within layouts/application (21.5ms)
Completed 200 OK in 24ms (Views: 23.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:52:54 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.5ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:57:08.834099', '2018-01-17 16:57:08.834099', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:57:08.834099', '2018-01-17 16:57:08.834099', 959946084)[0m
  [1m[35m (79.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:57:09 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.4ms)
Completed 200 OK in 6641ms (Views: 6632.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:57:15 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.5ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:57:15 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:57:15 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.6ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (18.0ms)
  Rendered profiles/new.html.erb within layouts/application (20.9ms)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 16:58:45.923872', '2018-01-17 16:58:45.923872', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 16:58:45.923872', '2018-01-17 16:58:45.923872', 959946084)[0m
  [1m[35m (73.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 11:58:46 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.2ms)
Completed 200 OK in 152ms (Views: 143.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 11:59:44 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 11:59:44 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.8ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.4ms)
  Rendered profiles/_form.html.erb (37.0ms)
  Rendered profiles/new.html.erb within layouts/application (40.0ms)
Completed 200 OK in 43ms (Views: 42.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 11:59:44 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (8.5ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 17:00:03.397071', '2018-01-17 17:00:03.397071', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 17:00:03.397071', '2018-01-17 17:00:03.397071', 959946084)[0m
  [1m[35m (79.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 12:00:03 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.5ms)
Completed 200 OK in 16ms (Views: 8.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 12:00:03 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.6ms)
Completed 200 OK in 174ms (Views: 173.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 12:00:03 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (18.9ms)
  Rendered profiles/new.html.erb within layouts/application (21.1ms)
Completed 200 OK in 24ms (Views: 22.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 12:00:03 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 17:14:01.248237', '2018-01-17 17:14:01.248237', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 17:14:01.248237', '2018-01-17 17:14:01.248237', 959946084)[0m
  [1m[35m (76.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 12:14:25 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (15.9ms)
  Rendered profiles/new.html.erb within layouts/application (18.7ms)
Completed 200 OK in 209ms (Views: 201.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 12:14:25 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (6.4ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 12:14:25 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 12:14:25 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 17:19:05.790518', '2018-01-17 17:19:05.790518', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 17:19:05.790518', '2018-01-17 17:19:05.790518', 959946084)[0m
  [1m[35m (78.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 12:19:29 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.3ms)
Completed 200 OK in 212ms (Views: 202.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 12:19:29 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.8ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.3ms)
  Rendered profiles/_form.html.erb (36.9ms)
  Rendered profiles/new.html.erb within layouts/application (40.0ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 12:19:29 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.7ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 12:19:29 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.7ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 12:19:29 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 17:19:29.984727"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 17:19:50.658495', '2018-01-17 17:19:50.658495', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 17:19:50.658495', '2018-01-17 17:19:50.658495', 959946084)[0m
  [1m[35m (66.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 12:19:50 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (16.8ms)
  Rendered profiles/new.html.erb within layouts/application (19.3ms)
Completed 200 OK in 191ms (Views: 184.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 12:19:51 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.8ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 12:19:51 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 12:19:51 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (6.5ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 12:19:51 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 17:19:51.146712"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 17:20:19.146827', '2018-01-17 17:20:19.146827', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 17:20:19.146827', '2018-01-17 17:20:19.146827', 959946084)[0m
  [1m[35m (93.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 12:20:19 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 12:20:19 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (18.0ms)
  Rendered profiles/new.html.erb within layouts/application (20.5ms)
Completed 200 OK in 200ms (Views: 199.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 12:20:19 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (8.3ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 12:20:19 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 17:20:19.660331"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 12:20:19 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.9ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 17:20:28.737970', '2018-01-17 17:20:28.737970', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 17:20:28.737970', '2018-01-17 17:20:28.737970', 959946084)[0m
  [1m[35m (67.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 12:20:28 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 12:20:28 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.3ms)
  Rendered profiles/_form.html.erb (19.8ms)
  Rendered profiles/new.html.erb within layouts/application (22.9ms)
Completed 200 OK in 205ms (Views: 204.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 12:20:29 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.6ms)
  Rendered profiles/analysis.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 12:20:29 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (7.1ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 12:20:29 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 17:20:29.243769"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 17:22:42.985135', '2018-01-17 17:22:42.985135', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 17:22:42.985135', '2018-01-17 17:22:42.985135', 959946084)[0m
  [1m[35m (73.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 12:22:43 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 164ms (Views: 152.8ms | ActiveRecord: 1.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 12:22:43 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 17:22:43.410764"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 12:22:43 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (18.5ms)
  Rendered profiles/new.html.erb within layouts/application (20.4ms)
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 12:22:43 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 12:22:43 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (29.1ms)
Completed 200 OK in 31ms (Views: 30.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 12:22:43 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 17:22:56.263799', '2018-01-17 17:22:56.263799', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 17:22:56.263799', '2018-01-17 17:22:56.263799', 959946084)[0m
  [1m[35m (67.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 12:22:56 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.8ms)
Completed 200 OK in 17ms (Views: 8.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 12:22:56 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 17:22:56.536270"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 12:22:56 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (12.3ms)
Completed 200 OK in 190ms (Views: 188.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 12:22:56 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 10ms (Views: 5.5ms | ActiveRecord: 1.3ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 12:22:56 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (20.9ms)
  Rendered profiles/new.html.erb within layouts/application (23.0ms)
Completed 200 OK in 26ms (Views: 24.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 12:22:56 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 17:24:41.080373', '2018-01-17 17:24:41.080373', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 17:24:41.080373', '2018-01-17 17:24:41.080373', 959946084)[0m
  [1m[35m (71.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 12:24:41 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.2ms)
Completed 200 OK in 169ms (Views: 160.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 12:24:41 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 1.3ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 12:24:41 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.6ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (22.9ms)
  Rendered profiles/new.html.erb within layouts/application (31.7ms)
Completed 200 OK in 35ms (Views: 33.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 12:24:41 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 12:24:41 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (6.6ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 12:24:41 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 17:24:41.579156"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 19:17:16.996462', '2018-01-17 19:17:16.996462', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 19:17:16.996462', '2018-01-17 19:17:16.996462', 959946084)[0m
  [1m[35m (62.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 14:17:17 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.2ms)
Completed 200 OK in 175ms (Views: 166.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.5ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 14:17:17 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.6ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.4ms)
  Rendered profiles/_form.html.erb (24.1ms)
  Rendered profiles/new.html.erb within layouts/application (26.7ms)
Completed 200 OK in 30ms (Views: 28.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 14:17:17 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (6.1ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 14:17:17 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 19:17:17.454365"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 14:17:17 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 14:17:17 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 1.3ms)
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 19:45:47.085743', '2018-01-17 19:45:47.085743', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 19:45:47.085743', '2018-01-17 19:45:47.085743', 959946084)[0m
  [1m[35m (71.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 14:45:47 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 19:45:47.354755"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 14:45:47 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 14:45:47 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (9.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 201ms (Views: 186.4ms | ActiveRecord: 11.1ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 14:45:47 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (8.2ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 14:45:47 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 14:45:47 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.5ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.4ms)
  Rendered profiles/_form.html.erb (23.7ms)
  Rendered profiles/new.html.erb within layouts/application (26.7ms)
Completed 200 OK in 30ms (Views: 28.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_with_errors_if_the_profile_is_invalid
-----------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 19:46:36.104421', '2018-01-17 19:46:36.104421', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 19:46:36.104421', '2018-01-17 19:46:36.104421', 959946084)[0m
  [1m[35m (62.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 14:46:36 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 14:46:36 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (24.2ms)
  Rendered profiles/new.html.erb within layouts/application (27.5ms)
Completed 200 OK in 223ms (Views: 222.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 14:46:36 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (7.0ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 14:46:36 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.5ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 14:46:36 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 21ms (Views: 15.6ms | ActiveRecord: 1.3ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 14:46:36 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 19:46:36.669871"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_with_errors_if_the_profile_is_invalid
-----------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 19:47:57.177322', '2018-01-17 19:47:57.177322', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 19:47:57.177322', '2018-01-17 19:47:57.177322', 959946084)[0m
  [1m[35m (136.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 14:47:57 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 245ms (Views: 231.7ms | ActiveRecord: 2.1ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 14:47:57 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (1.1ms)
  Rendered profiles/analysis.html.erb within layouts/application (6.2ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 14:47:57 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 14:47:57 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (1.0ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (28.2ms)
  Rendered profiles/new.html.erb within layouts/application (32.0ms)
Completed 200 OK in 37ms (Views: 36.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_with_errors_if_the_profile_is_invalid
-----------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 14:47:57 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (7.9ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 14:47:57 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 19:47:57.887432"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 19:49:21.211399', '2018-01-17 19:49:21.211399', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 19:49:21.211399', '2018-01-17 19:49:21.211399', 959946084)[0m
  [1m[35m (52.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 14:49:21 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 222ms (Views: 209.3ms | ActiveRecord: 1.8ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_with_errors_if_the_profile_is_invalid
-----------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 14:49:21 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 19:49:21.733539"], ["updated_at", "2018-01-17 19:49:21.733539"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MC43OTA3MTA2NzgyMTA2Nzgz&log_id=OTgwMTkwOTYz
Completed 302 Found in 40ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 14:49:21 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (36.7ms)
Completed 200 OK in 39ms (Views: 37.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 14:49:21 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 14:49:21 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 14:49:21 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.5ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (18.9ms)
  Rendered profiles/new.html.erb within layouts/application (21.9ms)
Completed 200 OK in 25ms (Views: 23.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 14:49:21 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 19:49:21.834425"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 19:53:10.320429', '2018-01-17 19:53:10.320429', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 19:53:10.320429', '2018-01-17 19:53:10.320429', 959946084)[0m
  [1m[35m (110.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 14:53:10 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 14:53:10 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (12.1ms)
Completed 200 OK in 180ms (Views: 176.2ms | ActiveRecord: 1.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 14:53:10 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.5ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (26.5ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.4ms)
  Rendered profiles/_form.html.erb (45.2ms)
  Rendered profiles/new.html.erb within layouts/application (48.3ms)
Completed 200 OK in 52ms (Views: 50.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 14:53:10 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (6.2ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 14:53:10 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 19:53:10.868979"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 14:53:10 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.4ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_with_errors_if_the_profile_is_invalid
-----------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 14:53:10 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.7ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (8.1ms)
  Rendered profiles/new.html.erb within layouts/application (9.8ms)
Completed 200 OK in 24ms (Views: 12.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 19:53:33.363939', '2018-01-17 19:53:33.363939', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 19:53:33.363939', '2018-01-17 19:53:33.363939', 959946084)[0m
  [1m[35m (69.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_with_errors_if_the_profile_is_invalid
-----------------------------------------------------------------------------------------
  [1m[36mLog Load (0.5ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 14:53:33 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.8ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (18.0ms)
  Rendered profiles/new.html.erb within layouts/application (21.3ms)
Completed 200 OK in 249ms (Views: 224.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 14:53:33 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.1ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.1ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (8.4ms)
  Rendered profiles/new.html.erb within layouts/application (9.7ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 14:53:33 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 16ms (Views: 10.0ms | ActiveRecord: 2.1ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 14:53:33 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.4ms)
  Rendered profiles/analysis.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 14:53:33 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 14:53:33 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (10.9ms)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 14:53:33 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 19:53:33.989560"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.5ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 19:54:12.398582', '2018-01-17 19:54:12.398582', 201799169)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 19:54:12.398582', '2018-01-17 19:54:12.398582', 959946084)[0m
  [1m[35m (97.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 14:54:12 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 17ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 14:54:12 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.9ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.4ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.8ms)
  Rendered profiles/_form.html.erb (26.8ms)
  Rendered profiles/new.html.erb within layouts/application (32.0ms)
Completed 200 OK in 274ms (Views: 272.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 14:54:13 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (10.8ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 14:54:13 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 15ms (Views: 8.9ms | ActiveRecord: 2.2ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_with_errors_if_the_profile_is_invalid
-----------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 14:54:13 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (1.3ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (10.7ms)
  Rendered profiles/new.html.erb within layouts/application (13.0ms)
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 14:54:13 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 14:54:13 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 19:54:13.221708"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 20:02:04.413411', '2018-01-17 20:02:04.413411', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 20:02:04.413411', '2018-01-17 20:02:04.413411', 959946084)[0m
  [1m[35m (59.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:02:04 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 20:02:04.711180"], ["updated_at", "2018-01-17 20:02:04.711180"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 15:02:04 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.4ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.7ms)
  Rendered profiles/_form.html.erb (25.7ms)
  Rendered profiles/new.html.erb within layouts/application (28.5ms)
Completed 200 OK in 271ms (Views: 269.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 15:02:05 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 14ms (Views: 8.4ms | ActiveRecord: 2.1ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 15:02:05 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (7.4ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 15:02:05 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 20:02:05.149699"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:02:05 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.1ms)
  Rendered profiles/_form.html.erb (7.6ms)
  Rendered profiles/new.html.erb within layouts/application (8.6ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 15:02:05 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 15:02:05 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 20:02:15.562521', '2018-01-17 20:02:15.562521', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 20:02:15.562521', '2018-01-17 20:02:15.562521', 959946084)[0m
  [1m[35m (57.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 15:02:15 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 198ms (Views: 186.0ms | ActiveRecord: 1.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 15:02:16 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 20:02:16.015617"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 15:02:16 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (8.7ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 15:02:16 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:02:16 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 20:02:16.063651"], ["updated_at", "2018-01-17 20:02:16.063651"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:02:16 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.9ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (1.1ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.3ms)
  Rendered profiles/_form.html.erb (55.7ms)
  Rendered profiles/new.html.erb within layouts/application (58.9ms)
Completed 200 OK in 64ms (Views: 61.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 15:02:16 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 15:02:16 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.0ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.1ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.1ms)
  Rendered profiles/_form.html.erb (8.9ms)
  Rendered profiles/new.html.erb within layouts/application (9.6ms)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 20:04:52.832393', '2018-01-17 20:04:52.832393', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 20:04:52.832393', '2018-01-17 20:04:52.832393', 959946084)[0m
  [1m[35m (58.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.5ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:04:53 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 20:04:53.094617"], ["updated_at", "2018-01-17 20:04:53.094617"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 15:04:53 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 15:04:53 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 197ms (Views: 192.4ms | ActiveRecord: 1.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 15:04:53 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (8.7ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 15:04:53 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 20:04:53.366439"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:04:53 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.7ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (31.9ms)
  Rendered profiles/new.html.erb within layouts/application (34.4ms)
Completed 200 OK in 40ms (Views: 36.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 15:04:53 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.4ms)
  Rendered profiles/analysis.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 15:04:53 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.1ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (21.8ms)
  Rendered profiles/new.html.erb within layouts/application (22.5ms)
Completed 200 OK in 25ms (Views: 24.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 20:05:12.881662', '2018-01-17 20:05:12.881662', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 20:05:12.881662', '2018-01-17 20:05:12.881662', 959946084)[0m
  [1m[35m (68.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 15:05:13 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 15:05:13 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (5.1ms)
Completed 200 OK in 264ms (Views: 262.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 15:05:13 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (1.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.4ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.4ms)
  Rendered profiles/_form.html.erb (40.4ms)
  Rendered profiles/new.html.erb within layouts/application (46.9ms)
Completed 200 OK in 52ms (Views: 50.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 15:05:13 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 20:05:13.536675"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 15:05:13 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (10.7ms)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:05:13 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 20:05:13.574333"], ["updated_at", "2018-01-17 20:05:13.574333"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:05:13 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.5ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.1ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.1ms)
  Rendered profiles/_form.html.erb (11.5ms)
  Rendered profiles/new.html.erb within layouts/application (13.6ms)
Completed 200 OK in 22ms (Views: 17.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 15:05:13 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 15ms (Views: 9.4ms | ActiveRecord: 2.3ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 20:05:47.958678', '2018-01-17 20:05:47.958678', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 20:05:47.958678', '2018-01-17 20:05:47.958678', 959946084)[0m
  [1m[35m (63.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:05:48 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (1.0ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.4ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.5ms)
  Rendered profiles/_form.html.erb (21.4ms)
  Rendered profiles/new.html.erb within layouts/application (25.2ms)
Completed 200 OK in 247ms (Views: 236.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 15:05:48 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:05:48 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 20:05:48.519718"], ["updated_at", "2018-01-17 20:05:48.519718"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 15:05:48 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.0ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (10.4ms)
  Rendered profiles/new.html.erb within layouts/application (11.4ms)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 15:05:48 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.4ms)
  Rendered profiles/analysis.html.erb within layouts/application (5.1ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 15:05:48 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 2.0ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 15:05:48 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 20:05:48.589615"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 15:05:48 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (8.5ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 20:06:05.855974', '2018-01-17 20:06:05.855974', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 20:06:05.855974', '2018-01-17 20:06:05.855974', 959946084)[0m
  [1m[35m (67.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:06:06 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 20:06:06.105505"], ["updated_at", "2018-01-17 20:06:06.105505"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 15:06:06 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 185ms (Views: 180.1ms | ActiveRecord: 1.6ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 15:06:06 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.5ms)
  Rendered profiles/_form.html.erb (21.0ms)
  Rendered profiles/new.html.erb within layouts/application (23.7ms)
Completed 200 OK in 27ms (Views: 26.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:06:06 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.3ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.1ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (10.5ms)
  Rendered profiles/new.html.erb within layouts/application (11.4ms)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 15:06:06 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (8.9ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 15:06:06 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 20:06:06.412495"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 15:06:06 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.6ms)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 15:06:06 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 20:06:25.077534', '2018-01-17 20:06:25.077534', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 20:06:25.077534', '2018-01-17 20:06:25.077534', 959946084)[0m
  [1m[35m (86.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 15:06:25 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 232ms (Views: 217.9ms | ActiveRecord: 1.7ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:06:25 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 20:06:25.611144"], ["updated_at", "2018-01-17 20:06:25.611144"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 15:06:25 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (8.6ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 15:06:25 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.7ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (23.9ms)
  Rendered profiles/new.html.erb within layouts/application (26.4ms)
Completed 200 OK in 30ms (Views: 28.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 15:06:25 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.3ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 15:06:25 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 15:06:25 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.1ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (10.1ms)
  Rendered profiles/new.html.erb within layouts/application (10.8ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 15:06:25 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 20:06:25.708349"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 22:18:52.827505', '2018-01-17 22:18:52.827505', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 22:18:52.827505', '2018-01-17 22:18:52.827505', 959946084)[0m
  [1m[35m (70.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 17:19:16 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.4ms)
  Rendered profiles/analysis.html.erb within layouts/application (46.2ms)
Completed 200 OK in 10674ms (Views: 10655.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:19:27 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 22:19:27.745005"], ["updated_at", "2018-01-17 22:19:27.745005"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 27ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 17:19:27 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 22:19:27.768972"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 17:19:27 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 17:19:27 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (16.4ms)
Completed 200 OK in 34ms (Views: 33.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 17:19:27 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 2.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:19:27 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.8ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (33.1ms)
  Rendered profiles/new.html.erb within layouts/application (35.7ms)
Completed 200 OK in 40ms (Views: 37.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 17:19:27 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.0ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (8.4ms)
  Rendered profiles/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 22:23:25.868592', '2018-01-17 22:23:25.868592', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 22:23:25.868592', '2018-01-17 22:23:25.868592', 959946084)[0m
  [1m[35m (68.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 17:23:54 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 232ms (Views: 221.7ms | ActiveRecord: 1.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 17:23:54 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (39.4ms)
  Rendered profiles/new.html.erb within layouts/application (42.1ms)
Completed 200 OK in 52ms (Views: 50.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 17:23:54 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:23:54 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 22:23:54.483123"], ["updated_at", "2018-01-17 22:23:54.483123"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 17:23:54 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 17:23:54 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (5.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:23:54 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.3ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.1ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.1ms)
  Rendered profiles/_form.html.erb (8.2ms)
  Rendered profiles/new.html.erb within layouts/application (9.1ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 17:23:54 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 22:23:54.530238"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 22:24:29.069354', '2018-01-17 22:24:29.069354', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 22:24:29.069354', '2018-01-17 22:24:29.069354', 959946084)[0m
  [1m[35m (54.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 17:24:54 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 22:24:54.689528"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 17:24:54 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.3ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (17.0ms)
  Rendered profiles/new.html.erb within layouts/application (19.7ms)
Completed 200 OK in 7490ms (Views: 7489.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 17:25:02 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:25:02 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 22:25:02.211218"], ["updated_at", "2018-01-17 22:25:02.211218"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:25:02 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.4ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (9.9ms)
  Rendered profiles/new.html.erb within layouts/application (11.7ms)
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 17:25:02 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.4ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 11ms (Views: 6.0ms | ActiveRecord: 1.9ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 17:25:02 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (6.4ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 17:25:02 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 22:26:01.895402', '2018-01-17 22:26:01.895402', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 22:26:01.895402', '2018-01-17 22:26:01.895402', 959946084)[0m
  [1m[35m (50.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:26:02 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.9ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (18.4ms)
  Rendered profiles/new.html.erb within layouts/application (21.9ms)
Completed 200 OK in 209ms (Views: 186.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 17:26:02 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (6.4ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 17:26:02 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 22:26:02.336261"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:26:02 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 22:26:02.350505"], ["updated_at", "2018-01-17 22:26:02.350505"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 17:26:02 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 17:26:02 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (3.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 17:26:02 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 1.5ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 17:26:02 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.1ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (6.7ms)
  Rendered profiles/new.html.erb within layouts/application (7.5ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "logs"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'CAD', 55, 'New car', 1000.0, 1, '2018-01-17 22:29:17.604596', '2018-01-17 22:29:17.604596', 201799169)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at", "id") VALUES ('Kirill Kozlov', '(123) 222 - 2222', 'USD', 55, 'New car', 1000.0, 1, '2018-01-17 22:29:17.604596', '2018-01-17 22:29:17.604596', 959946084)[0m
  [1m[35m (46.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
ProfilesControllerTest: test_#create_returns_to_new_if_the_profile_is_invalid
-----------------------------------------------------------------------------
  [1m[36mLog Load (0.3ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:29:17 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"123", "relationship_and_sex"=>nil, "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.8ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.2ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.2ms)
  Rendered profiles/_form.html.erb (17.9ms)
  Rendered profiles/new.html.erb within layouts/application (21.2ms)
Completed 200 OK in 186ms (Views: 162.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#new_renders_the_form_and_queues_the_ConstructTreeWorker
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/new" for 127.0.0.1 at 2018-01-17 17:29:18 -0500
Processing by ProfilesController#new as HTML
  Rendering profiles/new.html.erb within layouts/application
  Rendered profiles/_errors.html.erb (0.0ms)
  Rendering profiles/js/phone-format.erb.js
  Rendered profiles/js/phone-format.erb.js (0.0ms)
  Rendering profiles/js/capitalize.erb.js
  Rendered profiles/js/capitalize.erb.js (0.0ms)
  Rendered profiles/_form.html.erb (6.6ms)
  Rendered profiles/new.html.erb within layouts/application (7.3ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
ProfilesControllerTest: test_#print_renders_without_layout_and_has_a_button
---------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/print?id=201799169" for 127.0.0.1 at 2018-01-17 17:29:18 -0500
Processing by ProfilesController#print as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/print.html.erb
  Rendered profiles/print.html.erb (7.6ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
ProfilesControllerTest: test_#save_properly_updates_a_log_and_redirects_to_index
--------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/analyzer/save" for 127.0.0.1 at 2018-01-17 17:29:18 -0500
Processing by ProfilesController#save as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "logs" SET "status" = ?, "updated_at" = ? WHERE "logs"."id" = ?[0m  [["status", 1], ["updated_at", "2018-01-17 22:29:18.035976"], ["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------
ProfilesControllerTest: test_#create_redirects_to_the_analysis_with_params_and_creates_a_log
--------------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer" for 127.0.0.1 at 2018-01-17 17:29:18 -0500
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"name"=>"Kirill", "age"=>"20", "telephone"=>"(647) 888 - 9797", "relationship_and_sex"=>"1", "property_status"=>"1", "housing_status"=>"1", "foreign_worker"=>"1", "job_status"=>"1", "employment_length"=>"12", "loan_duration_months"=>"2", "loan_purpose"=>"1", "currency"=>"CAD", "chequing_balance"=>"500", "loan_amount"=>"100", "other_debtors_guarantors"=>"1", "credit_history"=>"2", "other_loans"=>"1", "value_of_savings"=>"1000"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "logs" ("name", "phone", "currency", "loan_duration_months", "loan_purpose", "loan_amount", "verdict", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Kirill"], ["phone", "(647) 888 - 9797"], ["currency", "CAD"], ["loan_duration_months", 2], ["loan_purpose", "Used car"], ["loan_amount", 100.0], ["verdict", 1], ["created_at", "2018-01-17 22:29:18.048393"], ["updated_at", "2018-01-17 22:29:18.048393"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer/analysis?confidence=MQ%3D%3D&log_id=OTgwMTkwOTYz
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" ORDER BY created_at DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
ProfilesControllerTest: test_#delete_removes_a_record_and_redirects_to_the_index_page
-------------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
Started POST "/analyzer/delete" for 127.0.0.1 at 2018-01-17 17:29:18 -0500
Processing by ProfilesController#delete as HTML
  Parameters: {"id"=>"201799169"}
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/analyzer
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "logs"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
ProfilesControllerTest: test_#analysis_renders_the_correct_prediction_for_a_log
-------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
Started GET "/analyzer/analysis?log_id=MjAxNzk5MTY5&confidence=MQ%3D%3D" for 127.0.0.1 at 2018-01-17 17:29:18 -0500
Processing by ProfilesController#analysis as HTML
  Parameters: {"log_id"=>"MjAxNzk5MTY5", "confidence"=>"MQ=="}
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  Rendering profiles/analysis.html.erb within layouts/application
  Rendering profiles/js/ring-display.erb.js
  Rendered profiles/js/ring-display.erb.js (0.2ms)
  Rendered profiles/analysis.html.erb within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
ProfilesControllerTest: test_#index_displays_the_table_and_removes_generated_logs
---------------------------------------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/analyzer" for 127.0.0.1 at 2018-01-17 17:29:18 -0500
Processing by ProfilesController#index as HTML
  [1m[36mLog Load (0.2ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 0]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 201799169]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "logs" WHERE "logs"."id" = ?[0m  [["id", 959946084]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/index.html.erb within layouts/application
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT "logs".* FROM "logs" WHERE "logs"."status" = ?[0m  [["status", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  Rendered profiles/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 1.3ms)
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
AnalyzerTest: test_check_that_the_decision_tree_hits_the_standard_of_>65%_accuracy
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
LogTest: test_invalid_without_loan_amount
-----------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
LogTest: test_invalid_without_verdict
-------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LogTest: test_invalid_without_currency
--------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
LogTest: test_invalid_without_loan_duration_months
--------------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
LogTest: test_invalid_without_loan_purpose
------------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------
LogTest: test_valid_log
-----------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LogTest: test_invalid_without_name
----------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
LogTest: test_invalid_without_telephone
---------------------------------------
  [1m[36mLog Load (0.1ms)[0m  [1m[34mSELECT  "logs".* FROM "logs" WHERE "logs"."id" = ? LIMIT ?[0m  [["id", 201799169], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
ConstructTreeWorkerTest: test_ConstructTreeWorker_is_queued_properly
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
ProfileTest: test_#max_condition?_returns_true_when_a_loan_meets_the_condition
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
ProfileTest: test_invalid_without_name
--------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------
ProfileTest: test_profile_log
-----------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
ProfileTest: test_#testing_array_correctly_converts_foreign_worker
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
ProfileTest: test_#testing_array_returns_a_complete_array_of_valid_length
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
ProfileTest: test_invalid_without_a_properly_formatted_telephone
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
StatsHelperTest: test_#sum_of_loans_returns_the_correct_string
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "USD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "CAD"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "EUR"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "GBP"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT SUM("logs"."loan_amount") FROM "logs" WHERE "logs"."currency" = ? AND "logs"."verdict" = ?[0m  [["currency", "JPY"], ["verdict", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
CurrencyTest: test_#converted_value_returns_a_valid_conversion_with_exchange_rate_1
-----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
